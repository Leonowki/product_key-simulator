<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="scripts.js"></script>
    <title>FA Product Key Validator</title>
</head>

<body>
    <div class="title">
        <h1>NFA simulator</h1>
        <p>License Key in a format of XXXX-XXXX-XXXX</p>
    </div>
    <div>
        <div class="user-input">
            <div>
                <input type="text" id="keyInput" placeholder="XXXX-XXXX-XXXX">
            </div>
            <div>
                <button onclick="CheckValidity()">Validate input</button>
                <h5 class="current-input" id="userInput">Input:</h5>
            </div>
        </div>
        <!-- terminal-ish for display -->
        <div class="screen-board" id="user-screen">

        </div>

        <div class="automaton-board" id="automatonBoard">
            <!-- States here -->
            <div class="initial" style="top: 30px; left: 5px;"></div>
            <div class="state" id="q0" style="top: 20px; left: 35px;">q0</div>
            <div class="state" id="q1" style="top: 20px; left: 170px;">q1</div>
            <div class="state" id="q2" style="top: 20px; left: 300px;">q2</div>
            <div class="state" id="q3" style="top: 20px; left: 440px;">q3</div>
            <div class="state" id="q4" style="top: 20px; left: 560px;">q4</div>
            <div class="state" id="q5" style="top: 160px; left:35px;">q5</div>
            <div class="state" id="q6" style="top: 160px; left:170px">q6</div>
            <div class="state" id="q7" style="top: 160px; left:300px">q7</div>
            <div class="state" id="q8" style="top: 160px; left:440px">q8</div>
            <div class="state" id="q9" style="top: 160px; left:560px">q9</div>
            <div class="state" id="q10" style="top: 320px; left:35px">q10</div>
            <div class="state" id="q11" style="top: 320px; left:170px">q11</div>
            <div class="state" id="q12" style="top: 320px; left:300px">q12</div>
            <div class="state" id="q13" style="top: 320px; left:440px">q13</div>


            <!-- SVG arrows -->
            <svg class="svg-overlay">
                <!-- Top row q0 to q4 -->
                <line x1="98" y1="50" x2="170" y2="50" stroke="black" marker-end="url(#arrow)" /> <!-- q0 to q1 -->
                <text x="130" y="40" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="232" y1="50" x2="300" y2="50" stroke="black" marker-end="url(#arrow)" /> <!-- q1 to q2 -->
                <text x="260" y="40" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="363" y1="50" x2="440" y2="50" stroke="black" marker-end="url(#arrow)" /> <!-- q2 to q3 -->
                <text x="400" y="40" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="501" y1="50" x2="560" y2="50" stroke="black" marker-end="url(#arrow)" /> <!-- q3 to q4 -->
                <text x="525" y="40" class="transition-label">[A-Z,0-9]</text>
            
                <!-- q4 to q5 (curve) -->
                <path d="M 580 81 Q 350 120 95 180" stroke="black" fill="transparent" marker-end="url(#arrow)" />
                <text x="330" y="110" class="transition-label">[-]</text>
            
                <!-- Middle row q5 to q9 -->
                <line x1="97" y1="190" x2="170" y2="190" stroke="black" marker-end="url(#arrow)" /> <!-- q5 to q6 -->
                <text x="138" y="180" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="232" y1="190" x2="300" y2="190" stroke="black" marker-end="url(#arrow)" /> <!-- q6 to q7 -->
                <text x="260" y="180" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="362" y1="190" x2="440" y2="190" stroke="black" marker-end="url(#arrow)" /> <!-- q7 to q8 -->
                <text x="400" y="180" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="502" y1="190" x2="560" y2="190" stroke="black" marker-end="url(#arrow)" /> <!-- q8 to q9 -->
                <text x="525" y="180" class="transition-label">[A-Z,0-9]</text>
            
                <!-- q9 to q10 (curve) -->
                <path d="M 580 221 Q 590 230 90 330" stroke="black" fill="transparent" marker-end="url(#arrow)" />
                <text x="330" y="270" class="transition-label">[-]</text>
            
                <!-- Bottom row q10 to q14 -->
                <line x1="97" y1="350" x2="170" y2="350" stroke="black" marker-end="url(#arrow)" /> <!-- q10 to q11 -->
                <text x="130" y="340" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="232" y1="350" x2="300" y2="350" stroke="black" marker-end="url(#arrow)" /> <!-- q11 to q12 -->
                <text x="260" y="340" class="transition-label">[A-Z,0-9]</text>
                
                <line x1="362" y1="350" x2="440" y2="350" stroke="black" marker-end="url(#arrow)" /> <!-- q12 to q13 -->
                <text x="400" y="340" class="transition-label">[A-Z,0-9]</text>
            
                <!-- Arrowhead definition -->
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="black" />
                    </marker>
                </defs>
            </svg>
        </div>
        <div class="clear-input">
            <button onclick="ClearInput()">Reset</button>
        </div>


        <!-- KEWEJWHAJHDKJASHDL KEKW -->
        <div class="container" id="definitionContainer">
            <div>
                <h2>NFA Definition</h2>
                <p>License keys in the form XXXX-XXXX-XXXX </p>
                <p>NFA A = { Q, Σ, F, q0, δ } </p>
                <p>Q = {q0, q1, q2, q3, q4, q5, q6, q7, q8, q9, q10, q11, q12, q13, q14}</p>
                <p>Σ = {0, 1, 2, ..., 9, A, B, ..., Z, -}</p>
                <p>F = {q14}</p>
                <p>q0 = q0 </p>
            </div>
        </div>

        <div class="container" id="transitionsContainer">
            <h2>State Transitions</h2>
            <p>δ =</p>
            <table class="transitions-table">
                <thead>
                    <tr>
                        <th>State</th>
                        <th>[A-Z]</th>
                        <th>[0-9]</th>
                        <th> - </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>q0</td>
                        <td>q1</td>
                        <td>q1</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q1</td>
                        <td>q2</td>
                        <td>q2</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q2</td>
                        <td>q3</td>
                        <td>q3</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q3</td>
                        <td>q4</td>
                        <td>q4</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q4</td>
                        <td>ɸ</td>
                        <td>ɸ</td>
                        <td>q5</td>
                    </tr>
                    <tr>
                        <td>q5</td>
                        <td>q6</td>
                        <td>q6</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q6</td>
                        <td>q7</td>
                        <td>q7</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q7</td>
                        <td>q8</td>
                        <td>q8</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q8</td>
                        <td>q9</td>
                        <td>q9</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q9</td>
                        <td>ɸ</td>
                        <td>ɸ</td>
                        <td>q10</td>
                    </tr>
                    <tr>
                        <td>q10</td>
                        <td>q11</td>
                        <td>q11</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q11</td>
                        <td>q12</td>
                        <td>q12</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q12</td>
                        <td>q13</td>
                        <td>q13</td>
                        <td>ɸ</td>
                    </tr>
                    <tr>
                        <td>q13</td>
                        <td>q14</td>
                        <td>q14</td>
                        <td>ɸ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- KEKW -->
</body>

</html>